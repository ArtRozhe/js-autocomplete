var AutoComplete=function(e){function t(n){if(s[n])return s[n].exports;var o=s[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([,,function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),a=s(3),r=function(){function e(t){n(this,e),this.options={autoRun:!0,containers:null,delay:100,minChars:3,generateLayoutSuggestion:this.constructor._defaultGenerateLayoutSuggestion,dataProvider:null},this._setOptions(t),this._setContainers(this.options.containers),this.classNames={suggestionsContainer:"suggestions-container",suggestion:"auto-complete-suggestion",suggestionsContainerShow:"suggestions-container_show",input:"auto-complete-input",suggestionActive:"active",suggestionsGroupTitle:"suggestions-group-title"},this.options.autoRun&&this.run()}return i(e,[{key:"_getContainers",value:function(){return this.options.containers}},{key:"_setContainers",value:function(e){"object"===(void 0===e?"undefined":o(e))&&(this.options.containers=[e]),"string"==typeof e&&(this.options.containers=Array.prototype.slice.call(document.querySelectorAll(e)))}},{key:"_setOptions",value:function(e){var t=null,s=this.options;for(t in e)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=e[t]);return s}},{key:"_onSuggestionMouseOver",value:function(e,t){var s=t.querySelector("."+this.classNames.suggestionActive);s&&s.classList.remove(this.classNames.suggestionActive),e.classList.add(this.classNames.suggestionActive)}},{key:"_onSuggestionMouseOut",value:function(e){e.classList.remove(this.classNames.suggestionActive)}},{key:"_onSuggestionMouseDown",value:function(e,t,s,n){this._confirmSuggestion(e,t,s,n)}},{key:"_confirmSuggestion",value:function(e,t,s,n){if(e){var o=e.getAttribute("data-suggestion");n.value=o,s.lastInputValue=o,this._closeSuggestionsContainer(t)}}},{key:"_selectSuggestion",value:function(e,t,s){e.classList.add(this.classNames.suggestionsContainerShow),t.classList.add(""+this.classNames.suggestionActive),e.querySelector("."+this.classNames.suggestion)===t?e.scrollTop=0:(0,a.scrollToElement)(e,t),s.value=t.getAttribute("data-suggestion")}},{key:"_createSingleSuggestion",value:function(e,t){return'<div class="auto-complete-suggestion" data-suggestion="'+e+'">'+this.options.generateLayoutSuggestion(e,t)+"</div>"}},{key:"_createGroupSuggestions",value:function(e,t){var s="",n=e.title,o=e.data,i=this;return s='<h4 class="'+i.classNames.suggestionsGroupTitle+'">'+n+"</h4>",o.forEach(function(e){s=""+s+i._createSingleSuggestion(e,t)}),s}},{key:"_createSuggestions",value:function(e,t){var s="",n=this;return e.forEach(function(e){s="[object Object]"===Object.prototype.toString.call(e)?""+s+n._createGroupSuggestions(e,t):""+s+n._createSingleSuggestion(e,t)}),s}},{key:"_closeSuggestionsContainer",value:function(e){e.classList.remove(this.classNames.suggestionsContainerShow)}},{key:"_selectNextSuggestion",value:function(e,t){var s=e.querySelector("."+this.classNames.suggestionActive);s?(s.classList.remove(""+this.classNames.suggestionActive),(s=(0,a.getNextSiblingByClassName)(s.nextSibling,this.classNames.suggestion))||(s=e.querySelector("."+this.classNames.suggestion))):s=e.querySelector("."+this.classNames.suggestion),s&&this._selectSuggestion(e,s,t)}},{key:"_selectPrevSuggestion",value:function(e,t){var s=e.querySelector("."+this.classNames.suggestionActive);s?(s.classList.remove(""+this.classNames.suggestionActive),(s=(0,a.getPrevSiblingByClassName)(s.previousSibling,this.classNames.suggestion))||(s=e.childNodes[e.childNodes.length-1])):s=e.childNodes[e.childNodes.length-1],s&&this._selectSuggestion(e,s,t)}},{key:"_onInputHandler",value:function(e,t){var s=t.value,n=this.options.minChars,o=this.options.dataProvider,i=this.options.delay,a=this,r=e.querySelector("."+a.classNames.suggestionsContainer);s.length>=n?(clearTimeout(e.timerId),e.lastInputValue=s,e.timerId=setTimeout(function(){o.getDataSet(s).then(function(e){e.length>0?(r.innerHTML=a._createSuggestions(e,s),r.classList.add(a.classNames.suggestionsContainerShow)):r.classList.remove(a.classNames.suggestionsContainerShow)})},i)):(e.lastInputValue=s,r.classList.remove(a.classNames.suggestionsContainerShow))}},{key:"_onBlurHandler",value:function(e){this._closeSuggestionsContainer(e)}},{key:"_onKeyDownHandler",value:function(e,t){var s=t.target,n=t.which||t.keyCode,o=e.querySelector("."+this.classNames.suggestionsContainer);if(n===a.charCodes.down){if(""===s.value)return;o.classList.contains(this.classNames.suggestionsContainerShow)?this._selectNextSuggestion(o,s):this._onInputHandler(e,s)}if(n===a.charCodes.up){if(""===s.value)return;o.classList.contains(this.classNames.suggestionsContainerShow)?this._selectPrevSuggestion(o,s):this._onInputHandler(e,s)}n===a.charCodes.esc&&(this._closeSuggestionsContainer(o),s.value=e.lastInputValue),n===a.charCodes.enter&&this._confirmSuggestion(o.querySelector("."+this.classNames.suggestionActive),o,e,s)}},{key:"_bindEventListeners",value:function(e){var t=e.querySelector("."+this.classNames.input),s=e.querySelector("."+this.classNames.suggestionsContainer),n=this;e.onKeyDownHandler=this._onKeyDownHandler.bind(this,e),e.onInputHandler=this._onInputHandler.bind(this,e,t),e.onBlurHandler=this._onBlurHandler.bind(this,s),s.onMouseOverHandler=function(t){var s=(0,a.getParentByClassName)(t.target,n.classNames.suggestion,n.classNames.suggestionsContainer);s&&n._onSuggestionMouseOver(s,e)},s.addEventListener("mouseover",s.onMouseOverHandler),s.onMouseOutHandler=function(t){var s=(0,a.getParentByClassName)(t.target,n.classNames.suggestion,n.classNames.suggestionsContainer);s&&n._onSuggestionMouseOut(s,e)},s.addEventListener("mouseout",s.onMouseOutHandler),s.onMouseDownHandler=function(o){var i=(0,a.getParentByClassName)(o.target,n.classNames.suggestion,n.classNames.suggestionsContainer);i&&n._onSuggestionMouseDown(i,s,e,t)},s.addEventListener("mousedown",s.onMouseDownHandler),t.addEventListener("keydown",e.onKeyDownHandler),t.addEventListener("input",e.onInputHandler),t.addEventListener("blur",e.onBlurHandler)}},{key:"run",value:function(){var e=this._getContainers(),t=this;e&&e.forEach(function(e){e.lastInputValue=null,e.timerId=null,e.appendChild((0,a.createDomEl)(t.classNames.suggestionsContainer)),t._bindEventListeners(e)})}},{key:"destroy",value:function(){var e=this._getContainers(),t=this;e&&e.forEach(function(e){var s=e.querySelector("."+t.classNames.input),n=e.querySelector("."+t.classNames.suggestionsContainer);s.removeEventListener("keydown",e.onKeyDownHandler),s.removeEventListener("input",e.onInputHandler),s.removeEventListener("input",e.onBlurHandler),n.removeEventListener("mouseover",n.onMouseOverHandler),n.removeEventListener("mouseout",n.onMouseOutHandler),n.removeEventListener("mousedown",n.onMouseDownHandler),e.onKeyDownHandler=null,e.onInputHandler=null,e.onBlurHandler=null,n.onMouseOverHandler=null,n.onMouseOutHandler=null,n.onMouseDownHandler=null})}}],[{key:"_defaultGenerateLayoutSuggestion",value:function(e,t){var s="",n=new RegExp("("+t.split(" ").join("|")+")","gi");return s=s+"<div>"+e.replace(n,'<span style="color: #0097A7;">$1</span>')+"</div>"}}]),e}();t.default=r},function(e,t,s){"use strict";function n(e){var t=document.createElement("div");return t.classList.add(e),t}function o(e,t,s){return!e||e.classList.contains(s)?null:e.classList.contains(t)?e:o(e.parentNode,t,s)}function i(e,t){return e?e.classList&&e.classList.contains(t)?e:i(e.nextSibling,t):null}function a(e,t){return e?e.classList&&e.classList.contains(t)?e:a(e.previousSibling,t):null}function r(e,t){var s=parseInt(getComputedStyle(e).maxHeight,10),n=t.offsetHeight,o=e.scrollTop,i=t.getBoundingClientRect().top-e.getBoundingClientRect().top;i+n-s>0?e.scrollTop=i+n+o-s:i<0&&(e.scrollTop=i+o)}Object.defineProperty(t,"__esModule",{value:!0});var u={up:38,down:40,esc:27,enter:13};t.createDomEl=n,t.getParentByClassName=o,t.getNextSiblingByClassName=i,t.getPrevSiblingByClassName=a,t.charCodes=u,t.scrollToElement=r}]).default;